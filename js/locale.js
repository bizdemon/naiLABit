

let it_html = 
{
    "nav_logo" : "naiLAB Italia",
    "nav_service" : "Servizio",
    "nav_signup" : "Registrati",
    "nav_join" : "Unisciti a noi",

    "nav_m_service" : "Servizio",
    "nav_m_signup" : "Registrati",
    "nav_m_join" : "Unisciti a noi",
    
    "intro_h1" : "La tua bellezza. Senza compromessi.",
    "intro_h5" : "Prenditi cura delle tue unghie nei migliori saloni di bellezza come e quando vuoi tu.",
    "intro_btn" : "Scopri come funziona",

    "srv_aup" : "Prenditi cura delle tue unghie nei tuoi momenti di pausa",
    "srv_adw" : "Prenota con un click il tuo trattamento di bellezza sotto casa o vicino all'ufficio",
    "srv_bup" : "Risparmiare non significa scendere a compromessi",
    "srv_bdw" : "Selezioniamo per te i migliori materiali ai prezzi più concorrenziali",
    "srv_cup" : "Goditi un trattamento professionale e di alta qualità",
    "srv_cdw" : "Affidati a veri saloni di bellezza con specialisti preparati e sempre aggiornati",

    "sign_h3" : "Vuoi prenotare il tuo prossimo trattamento per le unghie?",
    "sign_h5" : "Registrati per rimanere aggiornata sul rilascio dell'app di naiLABit",
    "sign_btn" : "Voglio Registrarmi!",

    "join_h3" : "Vuoi unirti alla nostra rete di saloni di bellezza?",
    "join_h4" : "Tutto il materiale che serve lo forniamo NOI!!!",
    "join_h5" : "Compila il questionario indicando la città, l'indirizzo ed il numero di addetti interessati alla formazione.<br>Ti ricontatteremo entro 24h.",
    "join_btn" : "Voglio partecipare col mio Negozio!",

    "ftr_contact" : "Contattaci",
    "ftr_copyright" : "2016 Copyright",
    "ftr_copylogo" : "naiLAB Italia"
}

let it_placeholders = 
{
    "mce-EMAIL" : "Inserisci qui la tua email!"
}

let en_html = 
{
    "nav_logo" : "naiLAB Italy",
    "nav_service" : "Service",
    "nav_signup" : "Sign-up",
    "nav_join" : "Join us",
    
    "nav_m_service" : "Service",
    "nav_m_signup" : "Sign-up",
    "nav_m_join" : "Join us",
    
    "intro_h1" : "Your beauty with no compromises.",
    "intro_h5" : "Take care of your nails thanks to the best beauty salons always at your service.",
    "intro_btn" : "Check it out!",

    "srv_aup" : "Take care of your nails anytime you want",
    "srv_adw" : "One-click service booking for every nail salon nearby your home or office",
    "srv_bup" : "Saving money do not always mean compromising quality",
    "srv_bdw" : "We carefully select the best materials at the most competitive prices",
    "srv_cup" : "Enjoy an high quality professional services",
    "srv_cdw" : "Experience our nails salons driven by specialists always up to date",

    "sign_h3" : "How to book your next nail treatment?",
    "sign_h5" : "Sign-in and stay tuned about the upconming release of naiLABit app",
    "sign_btn" : "I want to sign-in!",

    "join_h3" : "Do you want to join our network of beauty salons?",
    "join_h4" : "We provide all the material you need!!!",
    "join_h5" : "Fill up the form with your city, the address and the number of persons you'd like to train.<br>We'll be back to you in 24h",
    "join_btn" : "I want to join with my beauty salon!",

    "ftr_contact" : "Contact us",
    "ftr_copyright" : "2016 Copyright",
    "ftr_copylogo" : "naiLAB Italy"
}

let en_placeholders = 
{
    "mce-EMAIL" : "Your email here!"
}

let ru_html = 
{
    "nav_logo" : "naiLAB Италия",
    "nav_service" : "Сервис",
    "nav_signup" : "Зарегистрироваться",
    "nav_join" : "Присоединяйтесь к нам",
    
    "nav_m_service" : "Сервис",
    "nav_m_signup" : "Зарегистрироваться",
    "nav_m_join" : "Присоединяйтесь к нам",
    
    "intro_h1" : "Ваша красота без компромиссов.",
    "intro_h5" : "Позаботьтесь о ваших ногтях в лучших салонах красоты, как и когда вы хотите.",
    "intro_btn" : "Узнайте, как это работает",

    "srv_aup" : "Позаботьтесь о ваших ногтях в любое удобное для вас время",
    "srv_adw" : "Запишитесь в один клик,выбрав ближайший салон к вашему дому или офису",
    "srv_bup" : "Экономить на своей красоте не означает идти на компромиссы",
    "srv_bdw" : "Мы выбираем для Вас самые лучшие материалы по самым конкурентным ценам",
    "srv_cup" : "Наслаждайтесь профессиональной и качественной процедурой",
    "srv_cdw" : "Доверьтесь лучшим салонам красоты с квалифицированным персоналом",

    "sign_h3" : "Желаете записаться и сделать ваши ручки красивее?",
    "sign_h5" : "Зарегистрируйтесь, чтобы оставаться в курсе выхода приложения naiLABit",
    "sign_btn" : "Я хочу зарегистрироваться!",

    "join_h3" : "Хотите присоединиться к нашей сети салонов красоты?",
    "join_h4" : "Мы предоставляем Вам весь необходимый материал!",
    "join_h5" : "Заполните анкету с указанием города, адреса и количество сотрудников, участвующих в процессе обучения. <br> Мы свяжемся с Вами в течение 24 часов.",
    "join_btn" : "Наш салон хочет присоединиться к naiLAB",

    "ftr_contact" : "Свяжитесь с нами",
    "ftr_copyright" : "2016 Copyright",
    "ftr_copylogo" : "naiLAB Италия"
}

let ru_placeholders = 
{
    "mce-EMAIL" : "Напишите Ваш электронный адрес"
}

let lang_packs = [

{ label : "ITA", img : "flags/IT.png", html : it_html, placeholders : it_placeholders },
{ label : "ENG", img : "flags/EN.png", html : en_html, placeholders : en_placeholders },
{ label : "RUS", img : "flags/RU.png", html : ru_html, placeholders : ru_placeholders }

]

function myTranslate(loc){

    let ddw1 = document.getElementById("dropdown1");
    let mddw1 = document.getElementById("mobile-dropdown1");
    let new_html = null, new_placeholders = null;

    // Apply ITA as default if no locale as been requested
    if(loc == "" || loc == null) { loc = "ITA"; }

    // Search for the language pack
    for (let i = 0; i < lang_packs.length; i++) {
        if(lang_packs[i].label === loc){

            // Desktop version
            let ddbt = document.getElementById("dropdown0");

            // Update the current language on the navbar
            ddbt.innerHTML = "<table><td><img src=\"" + 
                lang_packs[i].img + "\"></td><td>" + 
                lang_packs[i].label + "</td></table>";

            // Setup the new language on top of the menu
            ddw1.innerHTML = "<li><a onclick = \"myTranslate(\'" + 
                lang_packs[i].label + "\')\" ><table><td><img src=\"" + 
                lang_packs[i].img + "\"></td><td>" + 
                lang_packs[i].label + "</td></table></a></li>";

            // Mobile version
            let mddbt = document.getElementById("mobile-dropdown0");

            // Update the current language on the mobile navbar
            mddbt.innerHTML = lang_packs[i].label;

            // Setup the new language on top of the mobile menu
            mddw1.innerHTML = "<li><a onclick = \"myTranslate(\'" + 
                lang_packs[i].label + "\')\" >" + 
                lang_packs[i].label + "</a></li>";

            new_html = lang_packs[i].html;
            new_placeholders = lang_packs[i].placeholders;

            // save the preferred language
            setCookie("locale",lang_packs[i].label,30); 
        }
    }

    // Build up the menu of alternative languages
    for (let i = 0; i < lang_packs.length; i++) {
        if(lang_packs[i].label != loc){

            // Desktop version
            ddw1.innerHTML += "<li><a onclick = \"myTranslate(\'" + 
                lang_packs[i].label + "\')\" ><table><td><img src=\"" + 
                lang_packs[i].img + "\"></td><td>" + 
                lang_packs[i].label + "</td></table></a></li>";

            // Mobile version
            mddw1.innerHTML += "<li><a onclick = \"myTranslate(\'" + 
                lang_packs[i].label + "\')\" >" + 
                lang_packs[i].label + "</a></li>";
        }    
    }

    // Apply the translation to the page html
    for(let i in new_html){
        document.getElementById(i).innerHTML = new_html[i];
    }

    // Apply the translation to the page html
    for(let i in new_placeholders){
        document.getElementById(i).placeholder = new_placeholders[i];
    }
}

/****** Cookies management ******/

function setCookie(cname,cvalue,exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays*24*60*60*1000));
    var expires = "expires=" + d.toGMTString();
    document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for(var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') {
            c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
        }
    }
    return "";
}
